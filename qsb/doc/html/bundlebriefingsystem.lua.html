<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
   "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>
<head>
    <title>Reference</title>
    <link rel="stylesheet" href="ldoc.css" type="text/css" />
</head>
<body>

<button onclick="topFunction()" id="back2top" title="Nach oben scrollen">&#11014</button>

<div id="container">

<div id="product">
	<div id="product_logo"></div>
	<div id="product_name"><big><b></b></big></div>
	<div id="product_description"></div>
</div> <!-- id="product" -->


<div id="main">


<!-- Menu -->

<div id="navigation">
<br/>
<h1>ldoc</h1>


<h2>Contents</h2>
<ul>
<li><a href="#Anwenderfunktionen">Anwenderfunktionen</a></li>
<li><a href="#Briefing">Briefing</a></li>
<li><a href="#Reprisal">Reprisal</a></li>
<li><a href="#Reward">Reward</a></li>
<li><a href="#Trigger">Trigger</a></li>
</ul>


<h2>Modules</h2>
<ul class="nowrap">
  <li><strong>bundlebriefingsystem</strong></li>
</ul>

</div>

<div id="content">

<h1>Module <code>bundlebriefingsystem</code></h1>
<p>Ermöglicht es Briefing zu verwenden.</p>
<p>
<p> Briefings dienen zur Darstellung von Dialogen oder zur näheren Erleuterung
 der aktuellen Spielsituation. Mit Multiple Choice können dem Spieler mehrere
 Auswahlmöglichkeiten gegeben, multiple Handlungsstränge gestartet
 oder Menüstrukturen abgebildet werden. Mittels Sprüngen und Leerseiten
 kann innerhalb des Multiple Choice Briefings navigiert werden.
<p> <p>Das wichtigste auf einen Blick:
 <ul>
 <li><a href="#API.StartBriefing">Ein Briefing starten</a></li>
 <li><a href="#AP">Ein Seite erzeugen</a></li>
 <li>
</p>


<h2><a href="#Anwenderfunktionen">Anwenderfunktionen</a></h2>
<table class="function_list">
	<tr>
	<td class="name" nowrap><a href="#API.AddPages">API.AddPages (_Briefing)</a></td>
	<td class="summary">Erzeugt die Funktionen zur Erstellung von Seiten in einem Briefing und bindet
 sie an das Briefing.</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#API.BriefingPauseQuests">API.BriefingPauseQuests (_Flag)</a></td>
	<td class="summary">Steuert, ob Quest Timer während Briefings pausiert sind oder weiterzählen.</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#API.IsBriefingActive">API.IsBriefingActive (_Briefing)</a></td>
	<td class="summary">Prüft, ob ein Briefing abgeschlossen wurde.</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#API.IsBriefingFinished">API.IsBriefingFinished (_Briefing)</a></td>
	<td class="summary">Prüft, ob ein Briefing abgeschlossen wurde.</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#API.StartBriefing">API.StartBriefing (_Briefing)</a></td>
	<td class="summary">Startet ein Briefing.</td>
	</tr>
</table>
<h2><a href="#Briefing">Briefing</a></h2>
<table class="function_list">
	<tr>
	<td class="name" nowrap><a href="#AP">AP (_Page)</a></td>
	<td class="summary">Erstellt eine Seite für ein Dialog-Briefing.</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#ASP">ASP (_pageName, _entity, _title, _text, _dialogCamera, _action)</a></td>
	<td class="summary">Erstellt eine Seite in vereinfachter Syntax.</td>
	</tr>
</table>
<h2><a href="#Reprisal">Reprisal</a></h2>
<table class="function_list">
	<tr>
	<td class="name" nowrap><a href="#Reprisal_Briefing">Reprisal_Briefing (_Briefing)</a></td>
	<td class="summary">Ruft die Lua-Funktion mit dem angegebenen Namen auf und spielt das Briefing
 in ihr ab.</td>
	</tr>
</table>
<h2><a href="#Reward">Reward</a></h2>
<table class="function_list">
	<tr>
	<td class="name" nowrap><a href="#Reward_Briefing">Reward_Briefing (_Briefing)</a></td>
	<td class="summary">Ruft die Lua-Funktion mit dem angegebenen Namen auf und spielt das Briefing
 in ihr ab.</td>
	</tr>
</table>
<h2><a href="#Trigger">Trigger</a></h2>
<table class="function_list">
	<tr>
	<td class="name" nowrap><a href="#Trigger_Briefing">Trigger_Briefing (_QuestName, _Type, _Waittime)</a></td>
	<td class="summary">Startet einen Quest, nachdem das Briefing eines Quests gestartet und
 durchlaufen wurde.</td>
	</tr>
</table>

<br/>
<br/>


    <h2 class="section-header "><a name="Anwenderfunktionen"></a>Anwenderfunktionen</h2>

    <dl class="function">
    <dt>
    <a name = "API.AddPages"></a>
    <strong>API.AddPages (_Briefing)</strong>
    </dt>
    <dd>
    Erzeugt die Funktionen zur Erstellung von Seiten in einem Briefing und bindet
 sie an das Briefing.  Diese Funktion muss vor dem Start eines Briefing
 aufgerufen werden um Seiten hinzuzufügen.
<p> <b>Alias</b>: AddPages



    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">_Briefing</span>
            <span class="types"><a class="type" href="https://www.lua.org/manual/5.1/manual.html#5.5">table</a></span>
         Briefing Definition
        </li>
    </ul>

    <h3>Returns:</h3>
    <ol>
        <li>
           <span class="types"><span class="type">function</span></span>
        <a href="#AP">AP</a></li>
        <li>
           <span class="types"><span class="type">function</span></span>
        <a href="#ASP">ASP</a></li>
    </ol>



    <h3>Usage:</h3>
    <ul>
        <pre class="example"><span class="keyword">local</span> AP, ASP = API.AddPages(Briefing);</pre>
    </ul>

</dd>
    <dt>
    <a name = "API.BriefingPauseQuests"></a>
    <strong>API.BriefingPauseQuests (_Flag)</strong>
    </dt>
    <dd>
    Steuert, ob Quest Timer während Briefings pausiert sind oder weiterzählen.
<p> <b>Alias</b>: PauseQuestsDuringBriefings



    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">_Flag</span>
            <span class="types"><span class="type">briefing</span></span>
         Briefing Definition
        </li>
    </ul>





</dd>
    <dt>
    <a name = "API.IsBriefingActive"></a>
    <strong>API.IsBriefingActive (_Briefing)</strong>
    </dt>
    <dd>
    Prüft, ob ein Briefing abgeschlossen wurde.
<p> <b>Alias</b>: IsBriefingActive



    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">_Briefing</span>
            <span class="types"><a class="type" href="https://www.lua.org/manual/5.1/manual.html#5.5">table</a></span>
         Briefing Definition
        </li>
    </ul>

    <h3>Returns:</h3>
    <ol>

           <span class="types"><span class="type">boolean</span></span>
        Briefing ist beendet
    </ol>




</dd>
    <dt>
    <a name = "API.IsBriefingFinished"></a>
    <strong>API.IsBriefingFinished (_Briefing)</strong>
    </dt>
    <dd>
    Prüft, ob ein Briefing abgeschlossen wurde.
<p> <b>Alias</b>: IsBriefingFinished



    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">_Briefing</span>
            <span class="types"><a class="type" href="https://www.lua.org/manual/5.1/manual.html#5.5">table</a></span>
         Briefing Definition
        </li>
    </ul>

    <h3>Returns:</h3>
    <ol>

           <span class="types"><span class="type">boolean</span></span>
        Briefing ist beendet
    </ol>




</dd>
    <dt>
    <a name = "API.StartBriefing"></a>
    <strong>API.StartBriefing (_Briefing)</strong>
    </dt>
    <dd>
    Startet ein Briefing.
<p> Für ein Briefing können verschiedene spezielle Einstellungen vorgenommen
 werden. Jede dieser Einstellungen wird mit true aktiviert.
 <table border="1">
 <tr>
 <td><b>Einstellung</b></td>
 <td><b>Beschreibung</b></td>
 </tr>
 <tr>
 <td>HideBorderPins</td>
 <td>Die Grenzsteine werden während des Briefing ausgeblendet</td>
 </tr>
 </tr>
 <tr>
 <td>TransparentBars</td>
 <td>Die Bars werden transparent dargestellt. (Opacity = 39%)</td>
 </tr>
 <tr>
 <td>ShowSky</td>
 <td>Der Himmel wird während des Briefing angezeigt</td>
 </tr>
 <tr>
 <td>RestoreGameSpeed</td>
 <td>Die Spielgeschwindigkeit wird nach Ende des Briefing zurückgesetzt</td>
 </tr>
 <tr>
 <td>RestoreCamera</td>
 <td>Die Kameraposition vor dem Briefing wird wiederhergestellt</td>
 </tr>
 <tr>
 <td>SkippingAllowed</td>
 <td>Das manuelle Springen zwischen Seiten wird erlaubt.</td>
 </tr>
 <tr>
 <td>ReturnForbidden</td>
 <td>Das Zurückspringen zur Vorherigen Seite wird verboten</td>
 </tr>
 </table>
<p> <b>Alias</b>: StartBriefing



    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">_Briefing</span>
            <span class="types"><a class="type" href="https://www.lua.org/manual/5.1/manual.html#5.5">table</a></span>
         Briefing Definition
        </li>
    </ul>

    <h3>Returns:</h3>
    <ol>

           <span class="types"><span class="type">number</span></span>
        ID des Briefing
    </ol>




</dd>
</dl>
    <h2 class="section-header "><a name="Briefing"></a>Briefing</h2>

    <dl class="function">
    <dt>
    <a name = "AP"></a>
    <strong>AP (_Page)</strong>
    </dt>
    <dd>
    Erstellt eine Seite für ein Dialog-Briefing.
<p> <b>Achtung</b>: Diese Funktion wird von
 <a href="#API.AddPages">API.AddPages</a> erzeugt und an
 das Briefing gebunden.
<p> <h5>Normale Briefings</h5>
<p> Eine einfache Seite lässt sich unter Nutzung von DialogCamera erstellen.
 Dadurch wird entweder Nahsicht oder Fernsicht verwendet. Werte für Angle,
 Rotation oder Zoom werden automatisch gesetzt, wenn sie fehlen.
 <pre>AP {
    Title        = "Titel",
    Text         = "Das ist der Text der Seite.",
    Position     = "HQ2",
    DialogCamera = false,
    Angle        = 30
}</pre>
 Es gilt zu beachten, dass Seiten ohne Duration solange angezeigt werden,
 bis der Benutzer die Seite per Button-Klick verlässt.
<p> Es kann eine einfache Bewegung erzeugt werden. Hierzu wird FlyTo benutzt.
 <pre>AP {
    ...
    FlyTo        = {
        Position = {"hero", 250},
        Zoom     = 2200,
        Rotation = Logic.GetEntityOrientation(GetID("hero"))+90,
        Angle    = 12,
        Duration = 15,
    }
}</pre>
 Die Dauer der Animation (FlyTo.Duration) wird automatisch zur Dauer der
 Seite, wenn diese nicht gesetzt ist oder die Animation länger ist.
<p> <pre>Portrait = "Path/to/Portrait.ong",</pre>
 Jede Seite kann eine Grafik am linken oberen Rand anzeigen. Diese Grafik wird
 als Portrait betrachtet und sollte 400x600 Pixel groß sein.

 <pre>Splashscreen = "Path/to/Graphic.ong",</pre>
 Jede Seite kann ebenso eine bildschirmfüllende Grafik anzeigen. Diese Grafik
 heißt Splashscreen. Splashscreens sollten immer das Format 16:9 haben.
<p><pre>Position = {X= 12000.0, Y= 36000.0, Z= 6000.0},
LookAt   = {X= 10000.0, Y= 35000.0, Z= 2345.0},</pre>
 AP unterstützt ebenso die Angabe von XYZ-Koordinaten. Positionen können auch
 als Vektoren angegeben werden. Dann hat die Kamera eine Position und eine
 Blickrichtung.
<p> <h5>Multiple Choice</h5>
<p> In einem Dialog kann der Spieler auch zur Auswahl einer Option gebeten
 werden. Dies wird als Multiple Choice bezeichnet. Schreibe die Optionen
 in eine Subtable MC.
 <pre>AP {
    ...
    MC = {
        {"Antwort 1", 5},
        {"Antwort 2", "SomePageName"},
    },
}</pre>
 Eine Antwort kann auch markiert werden, dass sie auch bei einem Rücksprung,
 nicht mehrfach gewählt werden kann.
 <pre>{"Antwort 3", "AnotherPage", Remove = true},</pre>
 Nachdem der Spieler eine Antwort gewählt hat, wird er auf die Seite mit
 der angegebenen ID oder dem Namen geleitet. Um das Briefing zu beenden,
 nachdem ein Pfad beendet ist, wird eine leere AP-Seite genutzt. Auf diese
 Weise weiß das Briefing, das es an dieser Stelle zuende ist.
 <pre>AP()</pre>
 Soll stattdessen zu einer anderen Seite gesprungen werden, kann bei AP die
 ID der Seite angeben werden, zu der gesprungen werden soll.
 <pre>AP(8)</pre>
 Pages können auch einen Namen erhalten. Der Name kann anstelle der ID für
 Sprünge genutzt werden.
 <pre>AP("SomePageName")</pre>
<p> Um später zu einem beliebigen Zeitpunkt die gewählte Antwort einer Seite zu
 erfahren, muss der Name der Seite oder die ID genutzt werden.
 <pre>Briefing.Finished(_Data)
    local Choosen = _Data:GetPage("Choice"):GetSelectedAnswer();
end</pre>
 Die zurückgegebene Zahl ist der Index der Antwort, angefangen von oben.
 Wird 0 zurückgegeben, wurde noch nicht geantwortet. Wenn Anworten nicht
 aktiv sind, verändert sich der Index anderer Antworten nicht.
<p> Wenn man zurückblättern erlaubt, aber nicht will, dass die Entscheidung
 erneut getroffen werden kann, kann man dies mit NoRethink unterbinden.
 <pre>AP {
    ...
    NoRethink = true,
}</pre>
 Auf diese Weise hat der Spieler die Möglichkeit die Texte nach der letzten
 Entscheidung noch einmal zu lesen, ohne dass er seine Meinung ändern kann.



    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">_Page</span>
            <span class="types"><a class="type" href="https://www.lua.org/manual/5.1/manual.html#5.5">table</a></span>
         Spezifikation der Seite
        </li>
    </ul>

    <h3>Returns:</h3>
    <ol>

           <span class="types"><a class="type" href="https://www.lua.org/manual/5.1/manual.html#5.5">table</a></span>
        Refernez auf die angelegte Seite
    </ol>




</dd>
    <dt>
    <a name = "ASP"></a>
    <strong>ASP (_pageName, _entity, _title, _text, _dialogCamera, _action)</strong>
    </dt>
    <dd>
    Erstellt eine Seite in vereinfachter Syntax.  Es wird davon
 Ausgegangen, dass das Entity ein Siedler ist. Die Kamera
 schaut den Siedler an.
<p> <b>Achtung</b>: Diese Funktion wird von
 <a href="#API.AddPages">API.AddPages</a> erzeugt und an
 das Briefing gebunden.



    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">_pageName</span>
            <span class="types"><a class="type" href="https://www.lua.org/manual/5.1/manual.html#5.4">string</a></span>
             (optional) Briefing-Seite Namen geben
        </li>
        <li><span class="parameter">_entity</span>
            <span class="types"><a class="type" href="https://www.lua.org/manual/5.1/manual.html#5.4">string</a></span>
               Entity, das die Kamera zeigt
        </li>
        <li><span class="parameter">_title</span>
            <span class="types"><a class="type" href="https://www.lua.org/manual/5.1/manual.html#5.4">string</a></span>
        	       Titel der Seite
        </li>
        <li><span class="parameter">_text</span>
            <span class="types"><a class="type" href="https://www.lua.org/manual/5.1/manual.html#5.4">string</a></span>
                 Text der Seite
        </li>
        <li><span class="parameter">_dialogCamera</span>
            <span class="types"><span class="type">boolean</span></span>
         Nahsicht an/aus
        </li>
        <li><span class="parameter">_action</span>
            <span class="types"><span class="type">function</span></span>
               Callback-Funktion
        </li>
    </ul>

    <h3>Returns:</h3>
    <ol>

           <span class="types"><a class="type" href="https://www.lua.org/manual/5.1/manual.html#5.5">table</a></span>
        Referenz auf die Seite
    </ol>



    <h3>Usage:</h3>
    <ul>
        <pre class="example"><span class="comment">-- Beispiel ohne Page Name
</span>ASP(<span class="string">"hans"</span>, <span class="string">"Hänschen-Klein"</span>, <span class="string">"Ich gehe in die weitel Welt hinein."</span>, <span class="keyword">true</span>);
<span class="comment">-- Beispiel mit Page Name
</span>ASP(<span class="string">"B1P1"</span>, <span class="string">"hans"</span>, <span class="string">"Hänschen-Klein"</span>, <span class="string">"Ich gehe in die weitel Welt hinein."</span>, <span class="keyword">true</span>);</pre>
    </ul>

</dd>
</dl>
    <h2 class="section-header "><a name="Reprisal"></a>Reprisal</h2>

    <dl class="function">
    <dt>
    <a name = "Reprisal_Briefing"></a>
    <strong>Reprisal_Briefing (_Briefing)</strong>
    </dt>
    <dd>
    Ruft die Lua-Funktion mit dem angegebenen Namen auf und spielt das Briefing
 in ihr ab.  Die Funktion muss eine Briefing-ID zurückgeben.
<p> Das Brieifng wird an den Quest gebunden und kann mit Trigger_Briefing
 überwacht werden. Es kann pro Quest nur ein Niederlage-Briefing
 gebunden werden!



    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">_Briefing</span>
            <span class="types"><a class="type" href="https://www.lua.org/manual/5.1/manual.html#5.4">string</a></span>
         Funktionsname als String
        </li>
    </ul>





</dd>
</dl>
    <h2 class="section-header "><a name="Reward"></a>Reward</h2>

    <dl class="function">
    <dt>
    <a name = "Reward_Briefing"></a>
    <strong>Reward_Briefing (_Briefing)</strong>
    </dt>
    <dd>
    Ruft die Lua-Funktion mit dem angegebenen Namen auf und spielt das Briefing
 in ihr ab.  Die Funktion muss eine Briefing-ID zurückgeben.
<p> Das Brieifng wird an den Quest gebunden und kann mit Trigger_Briefing
 überwacht werden. Es kann pro Quest nur ein Erfolgs-Briefing gebunden werden!



    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">_Briefing</span>
            <span class="types"><a class="type" href="https://www.lua.org/manual/5.1/manual.html#5.4">string</a></span>
         Funktionsname als String
        </li>
    </ul>





</dd>
</dl>
    <h2 class="section-header "><a name="Trigger"></a>Trigger</h2>

    <dl class="function">
    <dt>
    <a name = "Trigger_Briefing"></a>
    <strong>Trigger_Briefing (_QuestName, _Type, _Waittime)</strong>
    </dt>
    <dd>
    Startet einen Quest, nachdem das Briefing eines Quests gestartet und
 durchlaufen wurde.
<p> Der Trigger wird sowohl Erfolgs- als auch Niederlage-Briefings prüfen.
 Über den Typ-Parameter kann auf eine spezielle Art eingeschränt werden.



    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">_QuestName</span>
            <span class="types"><a class="type" href="https://www.lua.org/manual/5.1/manual.html#5.4">string</a></span>
         Name des Quest
        </li>
        <li><span class="parameter">_Type</span>
            <span class="types"><a class="type" href="https://www.lua.org/manual/5.1/manual.html#5.4">string</a></span>
             (Optional) Briefing-Typ
        </li>
        <li><span class="parameter">_Waittime</span>
            <span class="types"><span class="type">number</span></span>
         (optional) Wartezeit in Sekunden
        </li>
    </ul>





</dd>
</dl>


</div> <!-- id="content" -->
</div> <!-- id="main" -->
<div id="about">
<i>generated by <a href="http://github.com/stevedonovan/LDoc">LDoc 1.4.6</a></i>
<i style="float:right;">Last updated 2019-03-28 17:07:17 </i>
</div> <!-- id="about" -->
</div> <!-- id="container" -->

<script>
    window.onscroll = function() {scrollFunction()};

    function scrollFunction() {
        if (document.body.scrollTop > 20 || document.documentElement.scrollTop > 20) {
            document.getElementById("back2top").style.display = "block";
        } else {
            document.getElementById("back2top").style.display = "none";
        }
    }

    function topFunction() {
        document.body.scrollTop = 0; // For Safari
        document.documentElement.scrollTop = 0; // For Chrome, Firefox, IE and Opera
    }
</script>

</body>
</html>
